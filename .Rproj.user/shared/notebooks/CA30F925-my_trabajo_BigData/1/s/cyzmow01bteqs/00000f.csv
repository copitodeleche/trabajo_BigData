"0","#| code-fold: true"
"0","#| warning: false"
"0","library(giscoR)"
"2","
Attaching package: ‘giscoR’

"
"2","The following object is masked from ‘package:eurostat’:

    tgs00026

"
"0","library(tmap)"
"2","The legacy packages maptools, rgdal, and rgeos, underpinning the sp package,
which was just loaded, will retire in October 2023.
Please refer to R-spatial evolution reports for details, especially
https://r-spatial.org/r/2023/05/15/evolution4.html.
It may be desirable to make the sf package available;
package maintainers should consider adding sf to Suggests:.
The sp package is now running under evolution status 2
     (status 2 uses the sf package in place of rgdal)
"
"2","Breaking News: tmap 3.x is retiring. Please test v4, e.g. with
remotes::install_github('r-tmap/tmap')
"
"0","eu3 <- eu2 %>% "
"0","   select(-where(~all(is.na(.)))) %>%"
"0","  pivot_longer(cols = starts_with(""2""), "
"0","               names_to = ""year"", "
"0","               values_to = ""robos/100k_habitantes"", "
"0","               names_prefix = ""X"") %>%"
"0","  filter(year %in% ""2017"") %>%"
"0","  rename(""Country"" = `GEO (Labels)`)"
"0",""
"0",""
"0","europa <- gisco_get_countries(resolution = ""01"")"
"0",""
"0","europa <- subset(europa, CNTR_ID %in% eu3$`GEO (Codes)`)"
"0",""
"0",""
"0","map_data <- merge(europa, eu3, by.x = ""CNTR_ID"", by.y = ""GEO (Codes)"", all.x = TRUE)"
"0","map_data$`robos/100k_habitantes` <- as.numeric(map_data$`robos/100k_habitantes`)"
"0",""
"0","mapa <- tm_shape(map_data) +"
"0","  tm_borders() +"
"0","  tm_fill(col = ""robos/100k_habitantes"", style = ""equal"", palette = ""Blues"", n = 4) +"
"0","  tm_layout(title = ""Robos por 100,000 habitantes en Europa (2017)"") +"
"0","  tm_view(legend.position = c(""right"", ""bottom""))"
"0",""
